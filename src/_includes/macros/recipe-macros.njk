{% macro ingredientList(ingredients, servingSize) %}
<ul class="ingredients-list">
  {% for ingredient in ingredients %}
  <li class="ingredient-item" data-ingredient="{{ ingredient.name }}">
    <span class="ingredient-qty" data-quantities="{{ ingredient.quantitiesByServings | json }}">
      {{ ingredient.quantitiesByServings[servingSize | string] | default(ingredient.quantitiesByServings[servingSize]) }}
    </span>
    <span class="ingredient-name">
      {% if ingredient.unit %}{{ ingredient.unit }} {% endif %}{{ ingredient.name }}
      {% if ingredient.notes %}<span class="ingredient-note">({{ ingredient.notes }})</span>{% endif %}
    </span>
  </li>
  {% endfor %}
</ul>
{% endmacro %}

{% macro stepBadge(step) %}
{% if step.isCriticalPath %}
<span class="badge badge--fire">Critical</span>
{% endif %}
{% if step.resource %}
<span class="badge badge--ghost">{{ step.resource | upper }}</span>
{% endif %}
{% endmacro %}

{% macro timeDisplay(minutes) %}
{% set hrs = (minutes / 60) | int %}
{% set mins = minutes % 60 %}
{% if hrs > 0 %}{{ hrs }}h {{ mins }}m{% else %}{{ mins }}m{% endif %}
{% endmacro %}
