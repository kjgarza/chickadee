<!DOCTYPE html>
<html lang="en" data-theme="kitchen">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ title | default("Cooking Timer") }}</title>

  {# OpenGraph metadata #}
  <meta property="og:title" content="{{ ogTitle | default(title) | default('Cooking Timer') }}">
  <meta property="og:description" content="{{ ogDescription | default(description) | default('Interactive cooking timer with step-by-step guidance') }}">
  <meta property="og:image" content="{{ (ogImage | default('/assets/images/og-cooking.png')) | url }}">
  <meta property="og:type" content="{{ ogType | default('website') }}">
  {% if ogUrl %}
  <meta property="og:url" content="{{ ogUrl }}">
  {% endif %}

  {# JetBrains Mono - Industrial monospace font #}
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{{ '/css/kitchen.css' | url }}">
</head>
<body>
  <div class="container">
    <header class="site-header">
      <a href="{{ '/' | url }}" class="site-logo">Kitchen Timer</a>
      <nav class="site-nav">
        <a href="{{ '/about/' | url }}" class="nav-link">About</a>
        <button class="theme-toggle" onclick="toggleTheme()">
          <span id="theme-label">Dark</span>
        </button>
      </nav>
    </header>

    <main>
      {{ content | safe }}
    </main>

    <footer class="site-footer">
      <div class="flex-wrap items-center justify-center gap-2 mb-4">
        {% for link in site.socialLinks %}
        <a target="_blank" rel="noopener noreferrer" href="{{ link.url }}">{{ link.name }}</a>
        {% if not loop.last %}<span>·</span>{% endif %}
        {% endfor %}
      </div>
      <p>© {{ site.copyrightYear }} {{ site.author.name }}</p>
    </footer>
  </div>

  <script>
    function toggleTheme() {
      const html = document.documentElement;
      const currentTheme = html.getAttribute('data-theme');
      const newTheme = currentTheme === 'kitchen-dark' ? 'kitchen' : 'kitchen-dark';
      html.setAttribute('data-theme', newTheme);
      localStorage.setItem('theme', newTheme);
      updateThemeLabel(newTheme);
    }

    function updateThemeLabel(theme) {
      const label = document.getElementById('theme-label');
      if (label) {
        label.textContent = theme === 'kitchen-dark' ? 'Light' : 'Dark';
      }
    }

    // Load saved theme
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme && (savedTheme === 'kitchen' || savedTheme === 'kitchen-dark')) {
      document.documentElement.setAttribute('data-theme', savedTheme);
      updateThemeLabel(savedTheme);
    }
  </script>
  <script src="{{ '/js/timer.js' | url }}"></script>
  <script src="{{ '/js/timeline.js' | url }}"></script>
  <script src="{{ '/js/recipe-data.js' | url }}"></script>
</body>
</html>
