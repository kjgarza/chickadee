<div class="card bg-base-100 shadow-lg step-card {{ 'border-2 border-accent' if isNext else '' }}" 
     data-step-id="{{ step.id }}" 
     data-start-minute="{{ step.startMinute }}"
     data-duration-minutes="{{ step.durationMinutes | default(0) }}">
  {% if step.image %}
  <figure class="px-4 pt-4">
    <img 
      src="{{ step.image }}" 
      alt="Step: {{ step.instruction | truncate(50) }}" 
      class="rounded-xl w-full h-48 object-cover"
      loading="lazy"
    />
  </figure>
  {% endif %}
  <div class="card-body">
    <div class="flex justify-between items-start">
      <div class="flex-1">
        {% if isNext %}
        <span class="badge badge-accent mb-2">Next Step</span>
        {% endif %}
        
        <h3 class="card-title text-lg">{{ step.instruction }}</h3>
        
        {% if step.durationMinutes %}
        <p class="text-sm text-base-content/70 mt-1">
          Duration: {{ step.durationMinutes | formatMinutes }}
        </p>
        {% endif %}
      </div>
      
      <div class="text-right">
        <p class="step-time text-sm font-mono text-base-content/60">
          At {{ step.startMinute | formatMinutes }}
        </p>
        <p class="step-countdown text-xl font-mono font-bold text-accent hidden">
          --:--
        </p>
      </div>
    </div>
  </div>
</div>
